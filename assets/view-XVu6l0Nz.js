import{r as p,R as k,A as b,c as r,a as t,b as l,w as d,u as n,t as o,F as _,h as w,Y as $,a9 as N,X as V,a2 as S,a3 as C,a5 as F,o as i,_ as D,f as I,Z as L,e as f,I as h,g as z,ac as E,ad as R}from"./index-iXE1tgq1.js";const B={class:"flex items-center mt-8 intro-y"},j={class:"mr-auto text-lg font-medium"},T={class:"grid grid-cols-12 gap-6 mt-5"},U={class:"col-span-12 intro-y lg:col-span-12"},A={class:"intro-y box p-8"},M={class:"grid grid-cols-12 gap-6"},O={class:"col-span-6"},X={class:"col-span-12"},Y={class:"col-span-12"},Z={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},q={class:"bg-gray-100 border-b"},G={scope:"col",class:"px-6 py-3 text-gray-700 font-medium"},H={scope:"col",class:"px-6 py-3 text-gray-700 font-medium"},J={scope:"col",class:"px-4 py-3 text-gray-700 font-medium"},K={scope:"col",class:"px-4 py-3 text-gray-700 font-medium"},P={class:"py-3 px-4"},Q={class:"py-3 px-6"},W={class:"py-3 px-4"},tt={class:"py-3 px-4"},et={key:0,class:"fixed top-0 w-full h-full left-0 flex items-center justify-center bg-black bg-opacity-30 z-[999999]"},at={__name:"view",setup(st){const c=p({id:"",countId:"",countName:"",countDate:"",notes:"",status:null,products:[{id:"",productId:"",expected:0,counted:0,difference:"",cost:""}]}),u=p(!1);k(new N);const y=p(new Date().toISOString().split("T")[0]),v=V(),g=async()=>{try{u.value=!0;const e=await S.stockCount.show(v.params.uuid),s=C(e);s.success?c.value=s.data.data:console.error("Failed to fetch stock details:",s)}catch(e){const s=F(e);console.error("Error fetching stock details:",s)}finally{u.value=!1}};return b(()=>{c.value.countDate=y.value,g()}),(e,s)=>(i(),r(_,null,[t("div",B,[l(n(L),{to:"/inventory/stock-count"},{default:d(()=>[l(n(D),{variant:"primary",size:"sm",class:"shadow-md mr-4 h-8 w-9"},{default:d(()=>[l(n(I),{icon:"ChevronLeft",class:"w-5 h-5"})]),_:1})]),_:1}),t("h2",j,o(e.$t("stock-count.viewStockCount")),1)]),t("div",T,[t("div",U,[t("div",A,[t("div",M,[t("div",O,[l(n(h),null,{default:d(()=>[f(o(e.$t("stock-count.countName"))+" ",1),s[2]||(s[2]=t("span",{class:"text-danger"},"*",-1))]),_:1}),l(n(z),{modelValue:c.value.countName,"onUpdate:modelValue":s[0]||(s[0]=a=>c.value.countName=a),disabled:"",id:"countName",type:"text",placeholder:e.$t("stock-count.countName")},null,8,["modelValue","placeholder"])]),t("div",X,[l(n(h),null,{default:d(()=>[f(o(e.$t("stock-count.notes")),1)]),_:1}),l(n(E),{modelValue:c.value.notes,"onUpdate:modelValue":s[1]||(s[1]=a=>c.value.notes=a),disabled:"",class:"py-2 pl-4 resize-none",rows:3,placeholder:e.$t("stock-count.notes")},null,8,["modelValue","placeholder"])]),t("div",Y,[t("table",Z,[t("thead",null,[t("tr",q,[t("th",G,o(e.$t("stock-count.productName")),1),t("th",H,o(e.$t("stock-count.systemInventory")),1),t("th",J,o(e.$t("stock-count.physicalStock")),1),t("th",K,o(e.$t("stock-count.variance")),1)])]),t("tbody",null,[(i(!0),r(_,null,w(c.value.products,(a,x)=>{var m;return i(),r("tr",{key:a.id||x,class:"border-b"},[t("td",P,o((m=a.product)==null?void 0:m.name_en),1),t("td",Q,o(a.expected),1),t("td",W,o(a.counted),1),t("td",tt,o(Number(a.difference).toFixed(0)),1)])}),128))])])])])])])]),u.value?(i(),r("div",et,[l(R,{class:"absolute flex items-center justify-center w-full h-full top-0",margin:"0px",loading:!0,color:"#fff",size:"50px"})])):$("",!0)],64))}};export{at as default};
