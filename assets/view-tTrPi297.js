import{r as m,A as b,c,a as t,b as l,w as i,u as d,t as a,F as f,h as j,Y as $,X as w,W as V,a3 as N,a5 as C,o as r,_ as S,f as F,Z as L,e as y,I as h,g as z,ac as D,ad as R}from"./index-iXE1tgq1.js";const q={class:"flex items-center mt-8 intro-y"},B={class:"mr-auto text-lg font-medium"},E={class:"grid grid-cols-12 gap-6 mt-5"},Q={class:"col-span-12 intro-y lg:col-span-12"},A={class:"intro-y box p-8"},I={class:"grid grid-cols-12 gap-6"},T={class:"col-span-6"},U={class:"col-span-12"},M={class:"col-span-12"},O={class:"mt-2"},P={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},W={class:"bg-gray-100 border-b"},X={scope:"col",class:"px-6 py-3 text-gray-700 font-medium w-[350px] rounded-lt-lg"},Y={scope:"col",class:"px-6 py-3 text-gray-700 font-medium"},Z={scope:"col",class:"px-4 py-3 text-gray-700 font-medium"},G={scope:"col",class:"px-4 py-3 text-gray-700 font-medium"},H={scope:"col",class:"px-4 py-3 text-gray-700 font-medium rounded-rt-lg"},J={class:"py-3 px-4"},K={class:"py-3 px-6"},tt={class:"py-3 px-4"},et={class:"py-3 px-4"},st={class:"py-3 px-4"},at={key:0,class:"fixed top-0 w-full h-full left-0 flex items-center justifty-center bg-black bg-opacity-30 z-[999999]"},nt={__name:"view",setup(ot){const n=m({id:"",count_id:"",count_name:"",count_date:"",notes:"",status:null,products:[{id:"",product_id:"",expected:0,counted:0,difference:"",cost:""}]}),u=m(!1),g=m(new Date().toISOString().split("T")[0]),v=w(),k=async()=>{try{u.value=!0;const s=await V.get(`stock-adjustments/${v.params.uuid}`),e=N(s);e.success?(n.value=e.data.data,console.log("sD",e.data.data)):console.error("Failed to fetch stock details:",e)}catch(s){const e=C(s);console.error("Error fetching stock details:",e)}finally{u.value=!1,console.log("Loading state set to false")}};return b(()=>{n.value.count_date=g.value,k()}),(s,e)=>(r(),c(f,null,[t("div",q,[l(d(L),{to:"/inventory/stock-adjustment"},{default:i(()=>[l(d(S),{variant:"primary",size:"sm",class:"shadow-md mr-4 h-8 w-9"},{default:i(()=>[l(d(F),{icon:"ChevronLeft",class:"w-5 h-5"})]),_:1})]),_:1}),t("h2",B,a(s.$t("stock-adjustment.viewStockAdjustment")),1)]),t("div",E,[t("div",Q,[t("div",A,[t("div",I,[t("div",T,[l(d(h),null,{default:i(()=>[y(a(s.$t("stock-adjustment.adjustmentName")),1),e[2]||(e[2]=t("span",{class:"text-danger"}," *",-1))]),_:1}),l(d(z),{modelValue:n.value.count_name,"onUpdate:modelValue":e[0]||(e[0]=o=>n.value.count_name=o),disabled:"",id:"count_name",type:"text",placeholder:s.$t("stock-adjustment.adjustmentName")},null,8,["modelValue","placeholder"])]),e[3]||(e[3]=t("div",{class:"col-span-6"},null,-1)),t("div",U,[l(d(h),null,{default:i(()=>[y(a(s.$t("stock-adjustment.notes")),1)]),_:1}),l(d(D),{modelValue:n.value.notes,"onUpdate:modelValue":e[1]||(e[1]=o=>n.value.notes=o),disabled:"",class:"py-2 pl-4 resize-none",rows:3,placeholder:s.$t("stock-adjustment.notes")},null,8,["modelValue","placeholder"])]),t("div",M,[t("div",O,[t("table",P,[t("thead",null,[t("tr",W,[t("th",X,a(s.$t("stock-adjustment.productName")),1),t("th",Y,a(s.$t("stock-adjustment.removedQuantity")),1),t("th",Z,a(s.$t("stock-adjustment.availableQuantity")),1),t("th",G,a(s.$t("stock-adjustment.updatedQuantity")),1),t("th",H,a(s.$t("stock-adjustment.reason")),1)])]),t("tbody",null,[(r(!0),c(f,null,j(n.value.adjustmentProduct,(o,x)=>{var p,_;return r(),c("tr",{key:o.id||x,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"},[t("td",J,a((p=o.product)==null?void 0:p.name_en),1),t("td",K,a(o.remove_quantity),1),t("td",tt,a(o.available_quantity),1),t("td",et,a(o.updated_quantity),1),t("td",st,a((_=o.adjustmentReason)==null?void 0:_.title),1)])}),128))])])])])])])])]),u.value?(r(),c("div",at,[l(R,{class:"absolute flex items-center justify-center w-full h-full top-0",margin:"0px",loading:!0,color:"#fff",size:"50px"})])):$("",!0)],64))}};export{nt as default};
